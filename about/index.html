<p>&lt;!DOCTYPE html&gt;</p>
<html lang="en"><br>    <head><br>        <title>About me</title><br>        <!--//mod from Image Wall with jQuery and CSS3--><br>        <meta charset="UTF-8"><br>        <meta name="description" content="我的一段黑历史"><br>        <meta name="keywords" content="jquery, css3, images, wall, thumbnails, slide, animate"><br>        <meta name="author" content="jj修改"><br>        <link rel="stylesheet" type="text/css" href="/css/aboutstyle.css"><br>        <link href="http://fonts.googleapis.com/css?family=PT+Sans+Narrow" rel="stylesheet" type="text/css"><br>        <link href="http://fonts.googleapis.com/css?family=Wire+One" rel="stylesheet" type="text/css"><br>    </head><br>    <body><br>        <div class="content"><br>            <header><br>                <h1>历史都是惊人的相似</h1><br>                <p>&ensp;</p><br>                <span>一些小黑的历史</span><br>            </header><br>            <div class="iw_wrapper"><br>                <ul class="iw_thumbs" id="iw_thumbs"><br>                    <li><img src="/img/thumbs/1.jpg" data-img="/img/full/1.jpg" alt="Thumb1"><div><h2>Serenity</h2><p>Far far away, behind the word mountains there live the blind texts.</p></div></li><br>                    <li><img src="/img/thumbs/2.jpg" data-img="/img/full/2.jpg" alt="Thumb2"><div><h2>Silence</h2><p>Separated they live in Bookmarksgrove right at the coast of the Semantics.</p></div></li><br>                    <li><img src="/img/thumbs/3.jpg" data-img="/img/full/3.jpg" alt="Thumb3"><div><h2>Abstraction</h2><p>Far far away, behind the word mountains there live the blind texts.</p></div></li><br>                    <li><img src="/img/thumbs/4.jpg" data-img="/img/full/4.jpg" alt="Thumb4"><div><h2>Happiness</h2><p>Far far away, behind the word mountains there live the blind texts.</p></div></li><br>                    <li><img src="/img/thumbs/5.jpg" data-img="/img/full/5.jpg" alt="Thumb5"><div><h2>Greatness</h2><p>Far far away, behind the word mountains there live the blind texts.</p></div></li><br>                    <li><img src="/img/thumbs/6.jpg" data-img="/img/full/6.jpg" alt="Thumb6"><div><h2>Virtue</h2><p>Far far away, behind the word mountains there live the blind texts.</p></div></li><br>                    <li><img src="/img/thumbs/7.jpg" data-img="/img/full/7.jpg" alt="Thumb7"><div><h2>Beauty</h2><p>Far far away, behind the word mountains there live the blind texts.</p></div></li><br>                    <li><img src="/img/thumbs/8.jpg" data-img="/img/full/8.jpg" alt="Thumb8"><div><h2>Happiness</h2><p>Far far away, behind the word mountains there live the blind texts.</p></div></li><br>                    <li><img src="/img/thumbs/9.jpg" data-img="/img/full/9.jpg" alt="Thumb9"><div><h2>Greatness</h2><p>Far far away, behind the word mountains there live the blind texts.</p></div></li><br>                    <li><img src="/img/thumbs/10.jpg" data-img="/img/full/10.jpg" alt="Thumb10"><div><h2>Attraction</h2><p>Far far away, behind the word mountains there live the blind texts.</p></div></li><br>                    <li><img src="/img/thumbs/11.jpg" data-img="/img/full/11.jpg" alt="Thumb11"><div><h2>Growth</h2><p>A small river named Duden flows by their place and supplies it with the necessary regelialia.</p></div></li><br>                    <li><img src="/img/thumbs/12.jpg" data-img="/img/full/12.jpg" alt="Thumb12"><div><h2>Virtue</h2><p>Far far away, behind the word mountains there live the blind texts.</p></div></li><br>                    <li><img src="/img/thumbs/13.jpg" data-img="/img/full/13.jpg" alt="Thumb13"><div><h2>Beauty</h2><p>Far far away, behind the word mountains there live the blind texts.</p></div></li><br>                    <li><img src="/img/thumbs/14.jpg" data-img="/img/full/14.jpg" alt="Thumb14"><div><h2>Abstraction</h2><p>Far far away, behind the word mountains there live the blind texts.</p></div></li><br>                    <li><img src="/img/thumbs/5.jpg" data-img="/img/full/5.jpg" alt="Thumb5"><div><h2>Attraction</h2><p>Far far away, behind the word mountains there live the blind texts.</p></div></li><br>                    <li><img src="/img/thumbs/3.jpg" data-img="/img/full/3.jpg" alt="Thumb3"><div><h2>Virtue</h2><p>Far far away, behind the word mountains there live the blind texts.</p></div></li><br>                    <li><img src="/img/thumbs/13.jpg" data-img="/img/full/13.jpg" alt="Thumb13"><div><h2>Happiness</h2><p>Far far away, behind the word mountains there live the blind texts.</p></div></li><br>                    <li><img src="/img/thumbs/14.jpg" data-img="/img/full/14.jpg" alt="Thumb14"><div><h2>Serenity</h2><p>Far far away, behind the word mountains there live the blind texts.</p></div></li><br>                    <li><img src="/img/thumbs/2.jpg" data-img="/img/full/2.jpg" alt="Thumb1"><div><h2>Virtue</h2><p>Far far away, behind the word mountains there live the blind texts.</p></div></li><br>                    <li><img src="/img/thumbs/4.jpg" data-img="/img/full/4.jpg" alt="Thumb2"><div><h2>Serenity</h2><p>Far far away, behind the word mountains there live the blind texts.</p></div></li><br>                    <li><img src="/img/thumbs/11.jpg" data-img="/img/full/11.jpg" alt="Thumb11"><div><h2>Attraction</h2><p>Far far away, behind the word mountains there live the blind texts.</p></div></li><br>                </ul><br>            </div><br>            <div id="iw_ribbon" class="iw_ribbon"><br>                <span class="iw_close"></span><br>                <span class="iw_zoom">Click thumb to zoom</span><br>            </div><br>        </div><br>        <div class="footer"><br>            <a class="left" href="http://fffgroups.com/" target="_blank" rel="external"><span>&laquo;FFFGroups</span>你是团员么</a><br>        </div><br>        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script><br>        <script type="text/javascript" src="js/jquery.masonry.min.js"></script><br>        <script type="text/javascript" src="js/jquery.easing.1.3.js"></script><br>        <script type="text/javascript"><br>            $(window).load(function(){<br>                var $iw_thumbs          = $(‘#iw_thumbs’),<br>                    $iw_ribbon          = $(‘#iw_ribbon’),<br>                    $iw_ribbon_close    = $iw_ribbon.children(‘span.iw_close’),<br>                    $iw_ribbon_zoom     = $iw_ribbon.children(‘span.iw_zoom’);<br><br>                    ImageWall   = (function() {<br>                            // window width and height<br>                        var w_dim,<br>                            // index of current image<br>                            current             = -1,<br>                            isRibbonShown       = false,<br>                            isFullMode          = false,<br>                            // ribbon / images animation settings<br>                            ribbonAnim          = {speed : 500, easing : ‘easeOutExpo’},<br>                            imgAnim             = {speed : 400, easing : ‘jswing’},<br>                            // init function : call masonry, calculate window dimentions, initialize some events<br>                            init                = function() {<br>                                $iw_thumbs.imagesLoaded(function(){<br>                                    $iw_thumbs.masonry({<br>                                        isAnimated  : true<br>                                    });<br>                                });<br>                                getWindowsDim();<br>                                initEventsHandler();<br>                            },<br>                            // calculate window dimentions<br>                            getWindowsDim       = function() {<br>                                w_dim = {<br>                                    width   : $(window).width(),<br>                                    height  : $(window).height()<br>                                };<br>                            },<br>                            // initialize some events<br>                            initEventsHandler   = function() {<br><br>                                // click on a image<br>                                $iw_thumbs.delegate(‘li’, ‘click’, function() {<br>                                    if($iw_ribbon.is(‘:animated’)) return false;<br><br>                                    var $el = $(this);<br><br>                                    if($el.data(‘ribbon’)) {<br>                                        showFullImage($el);<br>                                    }<br>                                    else if(!isRibbonShown) {<br>                                        isRibbonShown = true;<br><br>                                        $el.data(‘ribbon’,true);<br><br>                                        // set the current<br>                                        current = $el.index();<br><br>                                        showRibbon($el);<br>                                    }<br>                                });<br><br>                                // click ribbon close<br>                                $iw_ribbon_close.bind(‘click’, closeRibbon);<br><br>                                // on window resize we need to recalculate the window dimentions<br>                                $(window).bind(‘resize’, function() {<br>                                            getWindowsDim();<br>                                            if($iw_ribbon.is(‘:animated’))<br>                                                return false;<br>                                            closeRibbon();<br>                                         })<br>                                         .bind(‘scroll’, function() {<br>                                            if($iw_ribbon.is(‘:animated’))<br>                                                return false;<br>                                            closeRibbon();<br>                                         });<br><br>                            },<br>                            showRibbon          = function($el) {<br>                                var $img    = $el.children(‘img’),<br>                                    $descrp = $img.next();<br><br>                                // fadeOut all the other images<br>                                $iw_thumbs.children(‘li’).not($el).animate({opacity : 0.2}, imgAnim.speed);<br><br>                                // increase the image z-index, and set the height to 100px (default height)<br>                                $img.css(‘z-index’, 100)<br>                                    .data(‘originalHeight’,$img.height())<br>                                    .stop()<br>                                    .animate({<br>                                        height      : ‘100px’<br>                                    }, imgAnim.speed, imgAnim.easing);<br><br>                                // the ribbon will animate from the left or right<br>                                // depending on the position of the image<br>                                var ribbonCssParam      = {<br>                                        top : $el.offset().top - $(window).scrollTop() - 6 + ‘px’<br>                                    },<br>                                    descriptionCssParam,<br>                                    dir;<br><br>                                if( $el.offset().left &lt; (w_dim.width / 2) ) {<br>                                    dir = ‘left’;<br>                                    ribbonCssParam.left     = 0;<br>                                    ribbonCssParam.right    = ‘auto’;<br>                                }<br>                                else {<br>                                    dir = ‘right’;<br>                                    ribbonCssParam.right    = 0;<br>                                    ribbonCssParam.left     = ‘auto’;<br>                                }<br><br>                                $iw_ribbon.css(ribbonCssParam)<br>                                          .show()<br>                                          .stop()<br>                                          .animate({width : ‘100%’}, ribbonAnim.speed, ribbonAnim.easing, function() {<br>                                                switch(dir) {<br>                                                    case ‘left’ :<br>                                                        descriptionCssParam     = {<br>                                                            ‘left’          : $img.outerWidth(true) + ‘px’,<br>                                                            ‘text-align’    : ‘left’<br>                                                        };<br>                                                        break;<br>                                                    case ‘right’ :<br>                                                        descriptionCssParam     = {<br>                                                            ‘left’          : ‘-200px’,<br>                                                            ‘text-align’    : ‘right’<br>                                                        };<br>                                                        break;<br>                                                };<br>                                                $descrp.css(descriptionCssParam).fadeIn();<br>                                                // show close button and zoom<br>                                                $iw_ribbon_close.show();<br>                                                $iw_ribbon_zoom.show();<br>                                          });<br><br>                            },<br>                            // close the ribbon<br>                            // when in full mode slides in the middle of the page<br>                            // when not slides left<br>                            closeRibbon         = function() {<br>                                isRibbonShown   = false;<br><br>                                $iw_ribbon_close.hide();<br>                                $iw_ribbon_zoom.hide();<br><br>                                if(!isFullMode) {<br><br>                                    // current wall image<br>                                    var $el         = $iw_thumbs.children(‘li’).eq(current);<br><br>                                    resetWall($el);<br><br>                                    // slide out ribbon<br>                                    $iw_ribbon.stop()<br>                                              .animate({width : ‘0%’}, ribbonAnim.speed, ribbonAnim.easing);<br><br>                                }<br>                                else {<br>                                    $iw_ribbon.stop().animate({<br>                                        opacity     : 0.8,<br>                                        height      : ‘0px’,<br>                                        marginTop   : w_dim.height/2 + ‘px’ // half of window height<br>                                    }, ribbonAnim.speed, function() {<br>                                        $iw_ribbon.css({<br>                                            ‘width’     : ‘0%’,<br>                                            ‘height’    : ‘126px’,<br>                                            ‘margin-top’: ‘0px’<br>                                        }).children(‘img’).remove();<br>                                    });<br><br>                                    isFullMode  = false;<br>                                }<br>                            },<br>                            resetWall           = function($el) {<br>                                var $img        = $el.children(‘img’),<br>                                    $descrp     = $img.next();<br><br>                                $el.data(‘ribbon’,false);<br><br>                                // reset the image z-index and height<br>                                $img.css(‘z-index’,1).stop().animate({<br>                                    height      : $img.data(‘originalHeight’)<br>                                }, imgAnim.speed,imgAnim.easing);<br><br>                                // fadeOut the description<br>                                $descrp.fadeOut();<br><br>                                // fadeIn all the other images<br>                                $iw_thumbs.children(‘li’).not($el).animate({opacity : 1}, imgAnim.speed);<br>                            },<br>                            showFullImage       = function($el) {<br>                                isFullMode  = true;<br><br>                                $iw_ribbon_close.hide();<br><br>                                var $img    = $el.children(‘img’),<br>                                    large   = $img.data(‘img’),<br><br>                                    // add a loading image on top of the image<br>                                    $loading = $(‘<span class="iw_loading"></span>‘);<br><br>                                $el.append($loading);<br><br>                                // preload large image<br>                                $(‘<img/>‘).load(function() {<br>                                    var $largeImage = $(this);<br><br>                                    $loading.remove();<br><br>                                    $iw_ribbon_zoom.hide();<br><br>                                    resizeImage($largeImage);<br><br>                                    // reset the current image in the wall<br>                                    resetWall($el);<br><br>                                    // animate ribbon in and out<br>                                    $iw_ribbon.stop().animate({<br>                                        opacity     : 1,<br>                                        height      : ‘0px’,<br>                                        marginTop   : ‘63px’ // half of ribbons height<br>                                    }, ribbonAnim.speed, function() {<br>                                        // add the large image to the DOM<br>                                        $iw_ribbon.prepend($largeImage);<br><br>                                        $iw_ribbon_close.show();<br><br>                                        $iw_ribbon.animate({<br>                                            height      : ‘100%’,<br>                                            marginTop   : ‘0px’,<br>                                            top         : ‘0px’<br>                                        }, ribbonAnim.speed);<br>                                    });<br>                                }).attr(‘src’,large);<br><br>                            },<br>                            resizeImage         = function($image) {<br>                                var widthMargin     = 100,<br>                                    heightMargin    = 100,<br><br>                                    windowH         = w_dim.height - heightMargin,<br>                                    windowW         = w_dim.width - widthMargin,<br>                                    theImage        = new Image();<br><br>                                theImage.src        = $image.attr(“src”);<br><br>                                var imgwidth        = theImage.width,<br>                                    imgheight       = theImage.height;<br><br>                                if((imgwidth &gt; windowW) || (imgheight &gt; windowH)) {<br>                                    if(imgwidth &gt; imgheight) {<br>                                        var newwidth    = windowW,<br>                                            ratio       = imgwidth / windowW,<br>                                            newheight   = imgheight / ratio;<br><br>                                        theImage.height = newheight;<br>                                        theImage.width  = newwidth;<br><br>                                        if(newheight &gt; windowH) {<br>                                            var newnewheight    = windowH,<br>                                                newratio        = newheight/windowH,<br>                                                newnewwidth     = newwidth/newratio;<br><br>                                            theImage.width      = newnewwidth;<br>                                            theImage.height     = newnewheight;<br>                                        }<br>                                    }<br>                                    else {<br>                                        var newheight   = windowH,<br>                                            ratio       = imgheight / windowH,<br>                                            newwidth    = imgwidth / ratio;<br><br>                                        theImage.height = newheight;<br>                                        theImage.width  = newwidth;<br><br>                                        if(newwidth &gt; windowW) {<br>                                            var newnewwidth     = windowW,<br>                                                newratio        = newwidth/windowW,<br>                                                newnewheight    = newheight/newratio;<br><br>                                            theImage.height     = newnewheight;<br>                                            theImage.width      = newnewwidth;<br>                                        }<br>                                    }<br>                                }<br><br>                                $image.css({<br>                                    ‘width’         : theImage.width + ‘px’,<br>                                    ‘height’        : theImage.height + ‘px’,<br>                                    ‘margin-left’   : -theImage.width / 2 + ‘px’,<br>                                    ‘margin-top’    : -theImage.height / 2 + ‘px’<br>                                });<br>                            };<br><br>                        return {init : init};<br>                    })();<br><br>                ImageWall.init();<br>            });<br>        </script><br>    </body><br></html>